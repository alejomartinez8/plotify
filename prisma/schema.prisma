generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

model Lot {
  id            String         @id @default(uuid())
  lotNumber     String         @unique
  owner         String
  contributions Contribution[]

  @@map("lots")
}

model Contribution {
  id          Int      @id @default(autoincrement())
  lotId       String
  type        String
  amount      Int
  date        DateTime @default(now())
  description String
  lot         Lot      @relation(fields: [lotId], references: [id])

  @@map("contributions")
}

model Expense {
  id          Int    @id @default(autoincrement())
  type        String
  amount      Int
  date        String
  description String
  category    String

  @@map("expenses")
}

model MonthlyMaintenanceQuota {
  id             Int      @id @default(autoincrement())
  year           Int      @unique
  monthlyAmount  Int      // Amount in cents (e.g., 6000000 for 60.000 COP)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("monthly_maintenance_quotas")
}
